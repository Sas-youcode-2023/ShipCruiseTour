"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6233],{6719:function(n,e,t){var r=t(26042),i=t(69396),o=t(99534),a=t(10253),c=t(7297),u=t(85893),l=(t(67294),t(26793)),s=t(73324),d=t(35019),f=t(97196),p=t(76922);function h(){var n=(0,c.Z)(["\n    --text-color: ",";\n"]);return h=function(){return n},n}function m(){var n=(0,c.Z)(["\n    display: flex;\n    align-items: center;\n\n    > "," {\n        width: fit-content;\n        line-break: anywhere;\n\n        border-radius: ",";\n\n        &:focus {\n            box-shadow: none;\n            outline: 3px solid ",";\n            outline-offset: 2px;\n        }\n    }\n"]);return m=function(){return n},n}function v(){var n=(0,c.Z)(["\n    display: flex;\n    align-items: center;\n    gap: ",";\n\n    max-width: 100%;\n    height: 56px;\n    border-radius: 56px; // same as height to perfect rounded border\n\n    padding: ",";\n\n    border: 1px solid ",";\n    background-color: ",";\n\n    --icon-color: ",";\n    --icon-bg-color: ",";\n\n    "," {\n        flex: 1;\n    }\n"]);return v=function(){return n},n}var b=(0,s.ZP)(p.xv).withConfig({componentId:"sc-4f00d06f-0"})(h(),(function(n){return n.theme.palette.grey.base})),g=s.ZP.div.withConfig({componentId:"sc-4f00d06f-1"})(m(),p.xv,(function(n){return n.theme.shape.borderRadius.small}),(function(n){return n.theme.palette.blue.focus}));e.Z=(0,s.ZP)((function(n){var e=n.kind,t=n.onClose,c=n.url,s=n.title,h=n.size,m=(0,o.Z)(n,["kind","onClose","url","title","size"]),v=(0,a.Z)((0,l.$)(),1)[0];return(0,u.jsxs)("div",(0,i.Z)((0,r.Z)({},m),{children:["link"===e?(0,u.jsx)(d.rU,{}):(0,u.jsx)(d.pk,{}),(0,u.jsx)(g,{children:(0,u.jsx)(p.xv,(0,i.Z)((0,r.Z)({as:"a",title:v("component.workspaces.FeedItemAttachment.".concat("link"===e?"openInNewTab":"download")),target:"_blank",rel:"noopener noreferrer",href:c,lines:2,variant:"subheading",link:!0},"link"===e?void 0:{download:s}),{children:null!==s&&void 0!==s?s:c}))}),h&&(0,u.jsx)(b,{variant:"subheading",as:"div",children:v("component.workspaces.FeedItemAttachment.size",{size:h})}),t&&(0,u.jsx)(f.hU,{type:"button",variant:"secondary",onClick:function(){return t()},title:v("component.workspaces.FeedItemAttachment.onClose"),children:(0,u.jsx)(d.X1,{circle:!0})})]}))})).withConfig({componentId:"sc-4f00d06f-2"})(v(),(function(n){return n.theme.spacing[4]}),(function(n){return n.theme.spacing[5]}),(function(n){return n.theme.palette.grey.lightest}),(function(n){return n.theme.palette.white.base}),(function(n){return n.theme.palette.purple.base}),(function(n){return n.theme.palette.purple.lightest}),g)},3629:function(n,e,t){t.d(e,{Y:function(){return b}});var r=t(7297),i=t(85893),o=t(83852),a=t(67294),c=t(73935),u=t(86963),l=t.n(u),s=t(86662),d=t(73324),f=t(37264);function p(){var n=(0,r.Z)(["\n        padding: ",";\n        border-radius: ",";\n        background-color: ",";\n\n        transition: all ease 0.2s;\n    "]);return p=function(){return n},n}function h(){var n=(0,r.Z)(["\n    ","\n"]);return h=function(){return n},n}function m(){var n=(0,r.Z)(["\n    top: 0;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: ",";\n    backdrop-filter: blur(45px);\n\n    z-index: ",";\n    visibility: ",";\n    opacity: ",";\n\n    transition: opacity ease 0.2s;\n\n    "," {\n        opacity: ",";\n        transform: ",";\n    }\n"]);return m=function(){return n},n}function v(){var n=(0,r.Z)([""]);return v=function(){return n},n}var b=d.ZP.div.withConfig({componentId:"sc-2d1aa36d-0"})(h(),(function(n){var e=n.theme;return(0,d.iv)(p(),e.spacing[7],e.shape.borderRadius.medium,e.palette.white.base)})),g=d.ZP.div.withConfig({componentId:"sc-2d1aa36d-1"})(m(),(function(n){var e=n.theme;return(0,o.DZ)(.8,e.palette.black.base)}),(function(n){return n.theme.zIndex.overlay}),(function(n){return n.visible?"visible":"hidden"}),(function(n){return n.visible?1:0}),b,(function(n){return n.visible?1:0}),(function(n){var e=n.visible;return"scale(".concat(e?1:0,")")})),x=(0,d.ZP)(l()).withConfig({componentId:"sc-2d1aa36d-2"})(v());e.Z=function(n){var e=n.children,t=n.visible,r=n.className,o=n.onClose,u=(0,a.useContext)(s.Z),l=u.modalNode,d=u.register,p=(0,a.useRef)(null);return(0,f.Vd)(p,(function(){return null===o||void 0===o?void 0:o()})),(0,a.useEffect)((function(){if(t)return d()}),[t]),l&&t?c.createPortal((0,i.jsx)(g,{className:r,visible:t,children:(0,i.jsx)(b,{role:"dialog","aria-modal":"true",ref:p,children:(0,i.jsx)(x,{active:t,children:e})})}),l):null}},99968:function(n,e,t){t.d(e,{Z:function(){return rn}});var r=t(10253),i=t(7297),o=t(85893),a=t(67294),c=t(26793),u=t(76922),l=t(86349),s=t(73324),d=t(35019),f=t(59689),p=t(37264),h=t(47568),m=t(26042),v=t(69396),b=t(99534),g=t(34051),x=t.n(g),Z=t(47533),j=t(87536),I=t(16310),k=t(7074);function w(){var n=(0,i.Z)(["\n    display: flex;\n    align-items: flex-end;\n    margin-top: ",";\n\n    "," {\n        flex-grow: 1;\n    }\n"]);return w=function(){return n},n}function y(){var n=(0,i.Z)(["\n    "," {\n        margin-top: ",";\n    }\n\n    "," + "," {\n        margin-top: ",";\n    }\n"]);return y=function(){return n},n}var C=s.ZP.div.withConfig({componentId:"sc-ee112982-0"})(w(),(function(n){var e=n.showTitle,t=n.theme;return e&&t.spacing[6]}),p.SR),A=function(n,e){return I.Ry().shape({title:I.Z_(),url:I.Z_().url().test("unique",n("component.AddLinkForm.uniqueLinkErrorMessage"),(function(n){return!e.some((function(e){return e.url===n}))})).required()})},S={title:"",url:""},F=(0,s.ZP)((function(n){var e=n.links,t=n.disabled,i=n.onSubmit,a=n.showTitleField,l=n.className,s=(0,r.Z)((0,c.$)(),1)[0],g=(0,r.Z)((0,k.z)({onSuccess:function(n){var e=n.data;return i(e)}}),1),I=g[0],w=(0,j.cI)({defaultValues:S,resolver:(0,Z.X)(A(s,e))}),y=w.control,F=w.handleSubmit,L=w.trigger,D=w.reset,M=function(){var n=(0,h.Z)(x().mark((function n(e){var t,r;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.title,r=e.url,L(["url","title"]),I({payload:{secured:!1,type:f.DD.URL,url:r,title:t}}),D(S);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:l,children:[a&&(0,o.jsx)(j.Qr,{control:y,name:"title",render:function(n){var e=n.field,t=e.name,r=e.onChange,i=e.value,a=n.fieldState,c=a.invalid,u=a.error,l=(0,b.Z)(n.field,["name","onChange","value"]);return(0,o.jsx)(p.SR,{label:s("component.AddLinkForm.titleLabel"),error:u,children:function(n){var e=n.errorId;return(0,o.jsx)(p.oi,(0,v.Z)((0,m.Z)({},l),{id:t,value:i,onChange:r,"aria-describedby":e,"aria-invalid":c,variant:c?"error":"default"}))}})}}),(0,o.jsxs)(C,{showTitle:a,children:[(0,o.jsx)(j.Qr,{control:y,name:"url",render:function(n){var e=n.field,r=e.name,i=e.onChange,a=e.value,c=n.fieldState,u=c.invalid,l=c.error,d=(0,b.Z)(n.field,["name","onChange","value"]);return(0,o.jsx)(p.SR,{label:s("component.AddLinkForm.urlLabel"),helper:s("component.AddLinkForm.urlFormatHelper"),error:l,children:function(n){var e=n.errorId;return(0,o.jsx)(p.oi,(0,v.Z)((0,m.Z)({},d),{id:r,value:a,onChange:i,placeholder:s(t?"component.AddLinkForm.placeholderDisabled":"component.AddLinkForm.urlPlaceholder"),"aria-describedby":e,"aria-invalid":u,variant:u?"error":"default"}))}})}}),(0,o.jsxs)(p.hU,{size:"large",type:"button",onClick:F(M),disabled:t,children:[(0,o.jsx)(d.v3,{}),(0,o.jsx)(u.ys,{children:s("component.AddLinkForm.addLinkSrOnly")})]})]})]})})).withConfig({componentId:"sc-ee112982-1"})(y(),p.hU,(function(n){return n.theme.spacing[7]}),p.SR,p.SR,(function(n){return n.theme.spacing[9]})),L=t(55162),D=t(86100);function M(){var n=(0,i.Z)(["\n    background-color: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: ",";\n    width: ",";\n    border-radius: 50%;\n"]);return M=function(){return n},n}function E(){var n=(0,i.Z)(["\n                background-color: ",";\n                border: 2px dashed ",";\n            "]);return E=function(){return n},n}function P(){var n=(0,i.Z)(["\n                background-color: ",";\n                --icon-bg-color: ",";\n                --icon-color: ",";\n            "]);return P=function(){return n},n}function N(){var n=(0,i.Z)(["\n                background-color: ",";\n                --icon-bg-color: ",";\n                --icon-color: ",";\n            "]);return N=function(){return n},n}function R(){var n=(0,i.Z)(["\n                background-color: ",";\n            "]);return R=function(){return n},n}function z(){var n=(0,i.Z)(["\n    border-radius: ",";\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 105px;\n\n    ",";\n"]);return z=function(){return n},n}function T(){var n=(0,i.Z)(["\n    color: ",";\n"]);return T=function(){return n},n}function K(){var n=(0,i.Z)(["\n    margin-top: ",";\n    color: ",";\n"]);return K=function(){return n},n}function U(){var n=(0,i.Z)(["\n    color: ",";\n"]);return U=function(){return n},n}function _(){var n=(0,i.Z)(["\n    "," {\n        margin-bottom: ",";\n    }\n"]);return _=function(){return n},n}var q="48px",O=s.ZP.div.withConfig({componentId:"sc-4a6dbb8b-0"})(M(),(function(n){return n.theme.palette.white.base}),q,q),Q=s.ZP.div.withConfig({componentId:"sc-4a6dbb8b-1"})(z(),(function(n){return n.theme.shape.borderRadius.medium}),(function(n){var e=n.theme,t=n.isDragActive,r=n.isLoading,i=n.isSuccess,o=n.isError;return t?(0,s.iv)(E(),e.palette.purple.lightest,e.palette.purple.base):r?(0,s.iv)(P(),e.palette.purple.lightest,e.palette.white.base,e.palette.purple.base):i?(0,s.iv)(N(),e.palette.green.lightest,e.palette.white.base,e.palette.green.base):o?(0,s.iv)(R(),e.palette.red.lightest):void 0})),$=(0,s.ZP)(u.xv).withConfig({componentId:"sc-4a6dbb8b-2"})(T(),(function(n){return n.theme.palette.purple.base})),V=(0,s.ZP)(u.xv).withConfig({componentId:"sc-4a6dbb8b-3"})(K(),(function(n){return n.theme.spacing[5]}),(function(n){return n.theme.palette.grey.base})),X=(0,s.ZP)(u.xv).withConfig({componentId:"sc-4a6dbb8b-4"})(U(),(function(n){return n.theme.palette.red.base})),H=1e7,W=function(n,e){return"file-too-large"===e?n("component.AddMediaForm.fileTooLargeErrorMessage",{maxSize:"".concat(10," Mo")}):n("component.AddMediaForm.defaultErrorMessage")},B=I.Ry().shape({title:I.Z_()}),J={title:""},Y=(0,s.ZP)((function(n){var e=n.isMediaSecured,t=void 0!==e&&e,i=n.onSubmit,l=n.disabled,s=void 0!==l&&l,g=n.showTitleField,I=void 0!==g&&g,k=n.className,w=(0,r.Z)((0,c.$)(),1)[0],y=(0,a.useState)(""),C=y[0],A=y[1],S=(0,a.useState)(!1),F=S[0],M=S[1],E=(0,j.cI)({defaultValues:J,resolver:(0,Z.X)(B)}),P=E.control,N=E.watch,R=E.reset,z=N("title"),T=(0,r.Z)((0,D.Z)({onSuccess:function(){return R()}}),2),K=T[0],U=T[1].isLoading,_=(0,L.uI)({noClick:!0,maxSize:H,onDropAccepted:function(){var n=(0,h.Z)(x().mark((function n(e){var r,o;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e[0],n.next=3,K({payload:t?{secured:!0,title:z,file:r}:{type:f.DD.FILE,secured:!1,title:z,file:r}});case 3:if(!(o=n.sent)){n.next=10;break}return i(o.data),M(!0),n.abrupt("return",new Promise((function(n){return setTimeout(n,1500)})).then((function(){return M(!1)})));case 10:A(W(w));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onDrop:function(n,e){if(e.length>0){var t=W(w,e[0].errors[0].code);A(t)}}}),q=_.getRootProps,Y=_.getInputProps,G=_.open,nn=_.isDragActive;return(0,o.jsxs)("div",{className:k,children:[I&&(0,o.jsx)(j.Qr,{control:P,name:"title",render:function(n){var e=n.field,t=e.name,r=e.value,i=n.fieldState,a=i.invalid,c=i.error,u=(0,b.Z)(n.field,["name","value"]);return(0,o.jsx)(p.SR,{htmlFor:t,label:w("component.AddMediaForm.titleLabel"),error:c,children:function(n){var e=n.errorId;return(0,o.jsx)(p.oi,(0,v.Z)((0,m.Z)({},u),{id:t,name:t,value:r,"aria-describedby":e,"aria-invalid":a,variant:a?"error":"default"}))}})}}),(0,o.jsxs)(Q,(0,v.Z)((0,m.Z)({},q()),{tabIndex:-1,isDragActive:nn,isLoading:U,isSuccess:F,isError:!!C,children:[nn?(0,o.jsx)(O,{children:(0,o.jsx)(d.gq,{})}):U?(0,o.jsx)(O,{role:"alert","aria-busy":"true",children:(0,o.jsx)(d.gb,{})}):F?(0,o.jsxs)(O,{role:"alert",children:[(0,o.jsx)(d.Jr,{}),(0,o.jsx)(u.ys,{children:w("component.AddMediaForm.uploadSuccessSrOnly")})]}):C?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(X,{role:"alert",children:C}),(0,o.jsx)(p.zx,{type:"button",small:!0,variant:"primary",onClick:function(){return A("")},disabled:s,children:w("component.AddMediaForm.retry")})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)($,{children:w("component.AddMediaForm.instructions")}),(0,o.jsx)(p.zx,{type:"button",small:!0,variant:"primary",onClick:G,disabled:s,children:w("component.AddMediaForm.importButton")}),(0,o.jsx)(V,{children:w("component.AddMediaForm.sizeHelper",{maxSize:"".concat(10," Mo")})})]}),(0,o.jsx)("input",(0,m.Z)({},Y()))]}))]})})).withConfig({componentId:"sc-4a6dbb8b-5"})(_(),p.oi,(function(n){return n.theme.spacing[5]}));function G(){var n=(0,i.Z)(["\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: ",";\n"]);return G=function(){return n},n}function nn(){var n=(0,i.Z)(["\n    "," {\n        padding: ",";\n    }\n\n    "," {\n        margin-left: ",";\n    }\n"]);return nn=function(){return n},n}var en,tn=s.ZP.span.withConfig({componentId:"sc-f7325fad-0"})(G(),(function(n){return n.theme.spacing[3]}));!function(n){n[n.LINK=0]="LINK",n[n.MEDIA=1]="MEDIA"}(en||(en={}));var rn=(0,s.ZP)((function(n){var e=n.resources,t=n.onResourceAdd,i=n.showTitleField,s=void 0!==i&&i,p=n.isMediaSecured,h=void 0!==p&&p,m=n.className,v=(0,r.Z)((0,c.$)(),1)[0],b=(0,a.useState)(en.LINK),g=b[0],x=b[1],Z=e.filter((function(n){return n["@type"]===f.DC.MEDIA&&n.type===f.DD.URL})),j=e.filter((function(n){return n["@type"]===f.DC.MEDIA_SECURED||n.type===f.DD.FILE}));return(0,o.jsxs)("div",{className:m,children:[(0,o.jsxs)(l.mQ,{children:[(0,o.jsx)(l.OK,{tabId:en.LINK,isSelected:g===en.LINK,onClick:function(){return x(en.LINK)},children:(0,o.jsxs)(tn,{children:[(0,o.jsx)(d.rU,{}),(0,o.jsxs)(u.xv,{as:"span",children:[" ",v("component.WorkAttachmentForm.addLinkTabTitle")]})]})}),(0,o.jsx)(l.OK,{tabId:en.MEDIA,isSelected:g===en.MEDIA,onClick:function(){return x(en.MEDIA)},children:(0,o.jsxs)(tn,{children:[(0,o.jsx)(d.pk,{}),(0,o.jsxs)(u.xv,{as:"span",children:[" ",v("component.WorkAttachmentForm.addAttachmentTabTitle")]})]})})]}),g===en.LINK&&(0,o.jsx)(l.x4,{tabId:en.LINK,children:(0,o.jsx)(F,{links:Z,onSubmit:t,disabled:Z.length>=5,showTitleField:s})}),g===en.MEDIA&&(0,o.jsx)(l.x4,{tabId:en.MEDIA,children:(0,o.jsx)(Y,{onSubmit:t,disabled:j.length>=5,isMediaSecured:h,showTitleField:s})})]})})).withConfig({componentId:"sc-f7325fad-1"})(nn(),l.x4,(function(n){var e=n.theme;return"".concat(e.spacing[7]," ").concat(e.spacing[9])}),p.hU,(function(n){return n.theme.spacing[3]}))}}]);
//# sourceMappingURL=6233-b503192d174b9ae6.js.map