(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9111],{1196:function(n){n.exports=function(n,e,t){for(var r=-1,i=null==n?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}},45652:function(n,e,t){var r=t(88668),i=t(47443),o=t(1196),u=t(74757),a=t(23593),c=t(21814);n.exports=function(n,e,t){var s=-1,l=i,f=n.length,d=!0,p=[],m=p;if(t)d=!1,l=o;else if(f>=200){var h=e?null:a(n);if(h)return c(h);d=!1,l=u,m=new r}else m=e?[]:p;n:for(;++s<f;){var v=n[s],b=e?e(v):v;if(v=t||0!==v?v:0,d&&b===b){for(var g=m.length;g--;)if(m[g]===b)continue n;e&&m.push(b),p.push(v)}else l(m,b,t)||(m!==p&&m.push(b),p.push(v))}return p}},23593:function(n,e,t){var r=t(58525),i=t(50308),o=t(21814),u=r&&1/o(new r([,-0]))[1]==1/0?function(n){return new r(n)}:i;n.exports=u},44908:function(n,e,t){var r=t(45652);n.exports=function(n){return n&&n.length?r(n):[]}},92358:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/briefs/[id]",function(){return t(22447)}])},6719:function(n,e,t){"use strict";var r=t(26042),i=t(69396),o=t(99534),u=t(10253),a=t(7297),c=t(85893),s=(t(67294),t(26793)),l=t(73324),f=t(35019),d=t(97196),p=t(76922);function m(){var n=(0,a.Z)(["\n    --text-color: ",";\n"]);return m=function(){return n},n}function h(){var n=(0,a.Z)(["\n    display: flex;\n    align-items: center;\n\n    > "," {\n        width: fit-content;\n        line-break: anywhere;\n\n        border-radius: ",";\n\n        &:focus {\n            box-shadow: none;\n            outline: 3px solid ",";\n            outline-offset: 2px;\n        }\n    }\n"]);return h=function(){return n},n}function v(){var n=(0,a.Z)(["\n    display: flex;\n    align-items: center;\n    gap: ",";\n\n    max-width: 100%;\n    height: 56px;\n    border-radius: 56px; // same as height to perfect rounded border\n\n    padding: ",";\n\n    border: 1px solid ",";\n    background-color: ",";\n\n    --icon-color: ",";\n    --icon-bg-color: ",";\n\n    "," {\n        flex: 1;\n    }\n"]);return v=function(){return n},n}var b=(0,l.ZP)(p.xv).withConfig({componentId:"sc-4f00d06f-0"})(m(),(function(n){return n.theme.palette.grey.base})),g=l.ZP.div.withConfig({componentId:"sc-4f00d06f-1"})(h(),p.xv,(function(n){return n.theme.shape.borderRadius.small}),(function(n){return n.theme.palette.blue.focus}));e.Z=(0,l.ZP)((function(n){var e=n.kind,t=n.onClose,a=n.url,l=n.title,m=n.size,h=(0,o.Z)(n,["kind","onClose","url","title","size"]),v=(0,u.Z)((0,s.$)(),1)[0];return(0,c.jsxs)("div",(0,i.Z)((0,r.Z)({},h),{children:["link"===e?(0,c.jsx)(f.rU,{}):(0,c.jsx)(f.pk,{}),(0,c.jsx)(g,{children:(0,c.jsx)(p.xv,(0,i.Z)((0,r.Z)({as:"a",title:v("component.workspaces.FeedItemAttachment.".concat("link"===e?"openInNewTab":"download")),target:"_blank",rel:"noopener noreferrer",href:a,lines:2,variant:"subheading",link:!0},"link"===e?void 0:{download:l}),{children:null!==l&&void 0!==l?l:a}))}),m&&(0,c.jsx)(b,{variant:"subheading",as:"div",children:v("component.workspaces.FeedItemAttachment.size",{size:m})}),t&&(0,c.jsx)(d.hU,{type:"button",variant:"secondary",onClick:function(){return t()},title:v("component.workspaces.FeedItemAttachment.onClose"),children:(0,c.jsx)(f.X1,{circle:!0})})]}))})).withConfig({componentId:"sc-4f00d06f-2"})(v(),(function(n){return n.theme.spacing[4]}),(function(n){return n.theme.spacing[5]}),(function(n){return n.theme.palette.grey.lightest}),(function(n){return n.theme.palette.white.base}),(function(n){return n.theme.palette.purple.base}),(function(n){return n.theme.palette.purple.lightest}),g)},35951:function(n,e,t){"use strict";t.d(e,{ee:function(){return a},V6:function(){return p},EK:function(){return b},GS:function(){return x},QI:function(){return R}});var r=t(7297),i=t(73324);function o(){var n=(0,r.Z)(["\n    text-decoration: underline;\n    color: ",";\n"]);return o=function(){return n},n}var u=i.ZP.a.withConfig({componentId:"sc-932b16cd-0"})(o(),(function(n){return n.theme.palette.purple.base}));u.displayName="Anchor";var a=u,c=t(26042),s=t(69396),l=t(76922);function f(){var n=(0,r.Z)(["\n    border-left: 2px solid ",";\n    padding-left: ",";\n"]);return f=function(){return n},n}var d=(0,i.ZP)(l.xv).withConfig({componentId:"sc-ef6484bc-0"})(f(),(function(n){return n.theme.palette.purple.base}),(function(n){return n.theme.spacing[6]}));d.defaultProps=(0,s.Z)((0,c.Z)({},l.xv.defaultProps),{as:"blockquote"}),d.displayName="Blockquote";var p=d,m=t(83852);function h(){var n=(0,r.Z)(["\n    ",";\n    color: ",";\n\n    background-color: ",";\n    padding: ",";\n    border-radius: ",";\n"]);return h=function(){return n},n}var v=i.ZP.code.withConfig({componentId:"sc-7f87b8de-0"})(h(),(function(n){return n.theme.typography.code}),(function(n){return n.theme.palette.black.base}),(function(n){var e=n.theme;return(0,m.CD)(.9,e.palette.white.base,e.palette.purple.base)}),(function(n){return n.theme.spacing[4]}),(function(n){return n.theme.shape.borderRadius.small}));v.displayName="Code";var b=v;function g(){var n=(0,r.Z)(['\n    padding-left: 1.5em;\n    list-style-type: none;\n    counter-reset: ol0;\n\n    li:before {\n        content: counter(ol0) ". ";\n        counter-increment: ol0;\n    }\n\n    & & {\n        counter-reset: ol1;\n\n        li {\n            &:before {\n                content: counter(ol1, lower-alpha) ". ";\n                counter-increment: ol1;\n            }\n        }\n    }\n\n    & & & {\n        counter-reset: ol2;\n\n        li {\n            &:before {\n                content: counter(ol2, lower-roman) ". ";\n                counter-increment: ol2;\n            }\n        }\n    }\n']);return g=function(){return n},n}var E=(0,i.ZP)(l.xv).withConfig({componentId:"sc-cbc1b94a-0"})(g());E.defaultProps=(0,s.Z)((0,c.Z)({},l.xv.defaultProps),{as:"ol"}),E.displayName="OrderedList";var x=E;function Z(){var n=(0,r.Z)(["\n    & & {\n        margin-top: 0;\n    }\n"]);return Z=function(){return n},n}var y=(0,i.ZP)(l.xv).withConfig({componentId:"sc-99b17411-0"})(Z());y.defaultProps=(0,s.Z)((0,c.Z)({},l.xv.defaultProps),{as:"ul"}),y.displayName="UnorderedList";var R=y},92139:function(n,e,t){"use strict";t.d(e,{Wb:function(){return a},UK:function(){return m},D9:function(){return E},HF:function(){return g}});var r,i=t(96486),o=t(67294),u=t(64508),a=function(n){var e=(0,o.useState)(!1),t=e[0],r=e[1],a=(0,o.useMemo)((function(){return(0,i.once)((function(){var e=document.getElementById(n);null===e||void 0===e||e.scrollIntoView({behavior:"smooth"}),r(!0)}))}),[n]),c=(0,u.yU)();return(0,o.useLayoutEffect)((function(){if(0===c&&!t){var n=setTimeout((function(){return a()}),250);return function(){return clearTimeout(n)}}}),[c,a]),t},c=function(n){var e=(0,o.useRef)(0),t=(0,o.useState)(n),r=t[0],i=t[1],u=(0,o.useCallback)((function(n){cancelAnimationFrame(e.current),e.current=requestAnimationFrame((function(){i(n)}))}),[]);return(0,o.useEffect)((function(){return function(){cancelAnimationFrame(e.current)}}),[]),[r,u]},s=t(26042),l=t(69396),f=t(29815);!function(n){n[n.REQUEST=0]="REQUEST",n[n.RESPONSE=1]="RESPONSE",n[n.ERROR=2]="ERROR",n[n.RESET=3]="RESET"}(r||(r={}));var d={loading:!1};function p(n,e){switch(e.type){case r.REQUEST:return(0,l.Z)((0,s.Z)({},n),{error:void 0,loading:!0});case r.RESPONSE:return{data:e.payload,loading:!1};case r.ERROR:return{error:e.payload,loading:!1};case r.RESET:return d;default:return n}}var m=function(n,e){var t=(0,o.useReducer)(p,d),i=t[0],u=t[1],a=(0,o.useCallback)((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];u({type:r.REQUEST});var o=n.apply(void 0,(0,f.Z)(t));return o.then((function(n){return u({type:r.RESPONSE,payload:n}),n})).catch((function(n){u({type:r.ERROR,payload:n})}))}),e);return[a,i,(0,o.useCallback)((function(){u({type:r.RESET})}),[])]},h=t(10253),v=t(52353),b=t.n(v),g=function(n,e,t){var r=t.offset,i=void 0===r?0:r,u=t.initialState,a=(0,h.Z)(c(u),2),s=a[0],l=a[1];return(0,o.useEffect)((function(){if(n){var t=n,r=function(n){if(null===n||void 0===n?void 0:n.currentTarget){var t=n.currentTarget,r=t.scrollTop,o=t.offsetHeight,u=void 0;null===e||void 0===e||e.forEach((function(n,t){var a=document.getElementById(n);if(a){var c=a.offsetTop+i;if(c>=r&&c<=r+o)if(b()(u))u=t;else{var s=document.getElementById(e[u]);u=s&&s.offsetTop+i<c?u:t}}})),l((function(n){return null!==u&&void 0!==u?u:n}))}};return t.addEventListener("scroll",r,{capture:!0,passive:!0}),function(){t.removeEventListener("scroll",r)}}}),[n,e,i]),s},E=function(n){var e=(0,o.useRef)();return(0,o.useEffect)((function(){e.current=n}),[n]),e.current}},22447:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return H}});var r=t(10253),i=t(85893),o=t(11163),u=t(67294),a=t(26793),c=t(66128),s=t(26042),l=t(69396),f=t(7297),d=t(44908),p=t.n(d),m=t(80129),h=t(64508),v=t(66499),b=t(73324),g=t(98583),E=t(35019),x=t(77229),Z=t(48380),y=t(47316),R=t(88782),k=t(82383),C=t(59689),S=t(37264),w=t(47568),I=t(99534),T=t(34051),A=t.n(T),P=t(602),j=t(92139),O=t(4874),F=t(1463),_=function(n){var e=n.brief,t=n.onClickConfirm,o=(0,I.Z)(n,["brief","onClickConfirm"]),u=(0,r.Z)((0,a.$)(),1)[0],c=(0,P.Z)(),l=(0,r.Z)((0,j.UK)((0,w.Z)(A().mark((function n(){return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.request({method:"DELETE",url:e["@id"]});case 2:t();case 3:case"end":return n.stop()}}),n)}))),[e]),3),f=l[0],d=l[1],p=d.loading,m=d.error,h=l[2];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(F.ZP,(0,s.Z)({text:u("component.briefFab.confirmDelete",{brief:e.title}),isConfirmLoading:p,onClickConfirm:f,type:F.kQ.CONFIRM,messageType:F.wt.INFO},o)),(0,i.jsx)(O.Z,{error:m,dissmiss:h})]})},N=t(35496),L=t(7978);function B(){var n=(0,f.Z)(["\n    background: ",";\n    border-radius: ",";\n    margin: ",";\n"]);return B=function(){return n},n}var D,U=(0,b.ZP)(S.W2).withConfig({componentId:"sc-b85041d7-0"})(B(),(function(n){return n.theme.palette.white.base}),(function(n){return n.theme.shape.borderRadius.medium}),(function(n){var e=n.theme;return"".concat(e.spacing[5]," auto")}));!function(n){n.NONE="none",n.DELETE="delete"}(D||(D={}));var W=function(n){var e=n.brief,t=(0,r.Z)((0,a.$)(),1)[0],c=(0,Z.z)().user,s=(0,o.useRouter)(),l=(0,y.o_)(),f=(0,u.useState)(!1),d=f[0],p=f[1],m=(0,g.OT)().activeClassroom,h=(0,u.useState)(D.NONE),v=h[0],b=h[1];if(!m)return null;var E=(0,u.useMemo)((function(){var n=[],t=e.createdBy["@id"]===c["@id"],r={canEdit:(e.coeditors.findIndex((function(n){return n["@id"]===c["@id"]}))>-1||t)&&l(y.L0.BRIEFS_CREATE),canDelete:t,canManageCoeditors:t,canAssign:l(y.L0.CLASSROOM_BRIEFS_MANAGE)&&e.status===C.Dt.VALIDATED,canSubmitWork:l([y.L0.TOPICS_WORK_SUBMIT,y.L0.WORKSPACE_GROUP_SUBMIT])},i=r.canDelete,o=r.canManageCoeditors,u=r.canAssign,a=r.canSubmitWork;if(r.canEdit&&n.push({type:"action",labelKey:"component.briefFab.edit",action:function(){return s.push((0,k.sX)(k.AW.BRIEFS_EDIT,{id:(0,C.sR)(e)}))}}),i&&n.push({type:"action",labelKey:"component.briefFab.delete",action:function(){return b(D.DELETE)}}),o&&n.push({type:"action",labelKey:"component.briefFab.editCoeditors",action:function(){return p(!0)}}),u&&n.push({type:"action",labelKey:"component.briefFab.assign",action:function(){return s.push((0,k.sX)(k.AW.BRIEFS_ASSIGN,{id:(0,C.sR)(e)}))}},{type:"action",labelKey:"component.briefFab.groupAssign",action:function(){return s.push((0,k.sX)(k.AW.BRIEFS_GROUP_ASSIGN,{id:(0,C.sR)(e)}))}}),a){if(e.topic){var f=(0,C.sR)(e.topic);n.push({type:"action",labelKey:"component.briefFab.submitIndividualWork",action:function(){return s.push((0,k.sX)(k.AW.TOPICS_DETAILS,{id:f}))}})}if(e.groupSpace){var d=(0,C.sR)(e.groupSpace);n.push({type:"action",labelKey:"component.briefFab.submitGroupWork",action:function(){return s.push((0,k.sX)(k.AW.WORKSPACE_GROUP_DETAILS,{id:d,slug:"submit"}))}})}}return n}),[e,c,l]);if(0===E.length)return null;var x=function(){return b(D.NONE)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L.Z,{label:t("component.briefFab.label"),options:E,variant:"cta"}),(0,i.jsx)(_,{brief:e,onClickConfirm:function(){x(),s.push(k.AW.BRIEFS)},visible:v===D.DELETE,onClickCancel:x}),(0,i.jsx)(R.u,{open:d,children:(0,i.jsx)(U,{children:(0,i.jsx)(N.Z,{briefId:(0,C.sR)(e),onCancel:function(){return p(!1)},onSubmit:function(){return p(!1)}})})})]})},K=t(3850),G=t(95176),M=t(55101);function X(){var n=(0,f.Z)(["\n    margin: "," 0;\n    display: flex;\n    justify-content: space-between;\n\n    "," {\n        height: 52px;\n        width: 110px;\n        border-radius: ",";\n    }\n"]);return X=function(){return n},n}var z=b.ZP.div.withConfig({componentId:"sc-5b3d0825-0"})(X(),(function(n){return n.theme.spacing[6]}),M.OG,(function(n){return n.theme.shape.borderRadius.medium})),Q=function(){var n,e=(0,o.useRouter)(),t=(0,g.OT)().activeClassroom,u=(0,r.Z)((0,a.$)(),1)[0],c=(0,h.aM)(["briefs/".concat(e.query.id),{method:"GET",headers:{"x-classroom-uuid":t&&(0,G.p)(t["@id"])}}]),f=c.data,d=c.isLoading,b=p()((null===f||void 0===f||null===(n=f.skillLevels)||void 0===n?void 0:n.map((function(n){return(0,G.p)(n.skill["@id"])})))||[]),Z=(0,h.aM)("/frameworks?".concat((0,m.stringify)({"skills.uuid":b,pagination:!1},{arrayFormat:"brackets"}))),y=Z.data,R=Z.isLoading,k=d||R||!f;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(z,{children:[(0,i.jsxs)(x.ZP,{onClick:function(){return e.back()},children:[(0,i.jsx)(E.Eh,{direction:"left"})," ",u("page.briefs.brief.back")]}),f?(0,i.jsx)(W,{brief:f}):(0,i.jsx)(M.OG,{})]}),(0,i.jsx)(K.ZP,(0,l.Z)((0,s.Z)({},f),{frameworks:null===y||void 0===y?void 0:y["hydra:member"],skills:(null===f||void 0===f?void 0:f.skillLevels)&&(0,K.wL)(f.skillLevels),media:(null===f||void 0===f?void 0:f.media)&&(0,v.VB)(f.media),isLoading:k}))]})},q=t(52665),V=t(35688),$=t(20094),H=function(){var n=(0,r.Z)((0,a.$)(),1)[0],e=(0,o.useRouter)(),t=(0,q.l)(),u=e.asPath.split("?")[0];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)($.Z,{title:n("page.briefs.brief.meta.title")}),(0,i.jsxs)(V.Z,{children:[t.findIndex((function(n){return n.id===u}))>-1?(0,i.jsx)(q.Z,{handleChange:function(n){e.push(n)},value:u}):(0,i.jsx)(Q,{}),(0,i.jsx)(c.Z,{})]})]})}},66499:function(n,e,t){"use strict";t.d(e,{Jj:function(){return o},VB:function(){return u},hd:function(){return a}});var r=t(26042),i=t(69396),o=function(n){return n.map((function(n){return e=n,(0,i.Z)((0,r.Z)({},e),{skills:[],classrooms:[],createdAt:"",updatedAt:""});var e}))},u=function(n){return n.map((function(n){return function(n){return(0,i.Z)((0,r.Z)({},n),{"@context":"",mimetype:"",size:0,createdAt:"",updatedAt:""})}(n)}))},a=function(n){return(0,r.Z)({},n)}}},function(n){n.O(0,[7246,9833,263,7557,2077,8116,773,3,5403,2787,2665,5688,8590,9774,2888,179],(function(){return e=92358,n(n.s=e);var e}));var e=n.O();_N_E=e}]);
//# sourceMappingURL=[id]-274f5a58867f2cd5.js.map